import{_ as h,G as m,f as n,g as a,i as e,F as l,l as r,k as p,H as _,m as b,p as g}from"./app-05d0b7e5.js";const f={data(){return{selectedContacts:[],submittedAttendances:[]}},mounted(){this.$store.dispatch("fetchContactData")},computed:{...m(["contactData"]),gridColumns(){return Math.ceil(this.contacts.length/20)},gridRows(){const s=[];for(let t=0;t<this.gridColumns;t++)s.push(this.contacts.slice(t*20,(t+1)*20));return s}},methods:{submitAttendance(){let s=[];this.selectedContacts.forEach(t=>{s.push(t.id)}),this.errors={},this.showLoader(),this.makeRequest("POST",this.endpoints.takeAttendance,{},{users:s}).then(t=>{this.hideLoader(),this.$router.push({name:"dashboard",query:{action:"new"}})}).catch(t=>{this.hideLoader(),t.response?t.response.data.data?this.errors=t.response.data.data:this.sweetAlert().error(t.response.data.message):this.sweetAlert().error(t)})}}},A=e("h2",null,"Attendance List",-1),k={class:"grid-container"},v=["value"],C={class:"mt-3"},y=["disabled"],w={key:0},x=e("h3",null,"Submitted Attendances:",-1);function D(s,t,L,S,o,c){return n(),a("div",null,[A,e("div",k,[(n(!0),a(l,null,r(s.contactData,(i,d)=>(n(),a("div",{class:"grid-item",key:d},[e("label",null,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=u=>o.selectedContacts=u),value:i},null,8,v),[[_,o.selectedContacts]]),e("p",null,b(i.name),1)])]))),128))]),e("div",C,[e("button",{onClick:t[1]||(t[1]=(...i)=>c.submitAttendance&&c.submitAttendance(...i)),disabled:o.selectedContacts.length===0,class:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"}," Submit Attendance ",8,y)]),o.submittedAttendances.length>0?(n(),a("div",w,[x,e("ul",null,[(n(!0),a(l,null,r(o.submittedAttendances,(i,d)=>(n(),a("li",{key:d}))),128))])])):g("",!0)])}const V=h(f,[["render",D]]);export{V as default};
