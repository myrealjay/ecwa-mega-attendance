import{W as k,a as C,M as w,T as v,P as D,S as W,D as b}from"./DropDown-015fda78.js";import{T,B as A,_ as x,r as s,o as d,c,a as o,b as a,w as r,d as B,v as E,F,e as L,t as h,f as M}from"./app-3681a1c4.js";const P={components:{WalletCard:k,WalletContainer:C,Modal:w,TextField:T,Button:A,Table:v,Pagination:D,SingleSelect:W,DropDown:b},created(){this.getHistory()},data(){return{title:"",wallet:{},openFund:!1,amount:"",errors:{amount:""},tableData:{length:5,wallet_id:"",amount:"",type:""},history:[],headers:[{name:"Name",width:50},{name:"Created At",width:15},{name:"Actions",width:10}],links:[],openWallet:!1,selectedCurrency:"",token:"",walletsErrors:{title:""},convertModalOpen:!1,receiveModalOpen:!1,convertForm:{source_currency:"",destination_currency:"",amount:""},convertErrors:{source_currency:"",destination_currency:"",amount:""}}},methods:{createWallet(){this.title="",this.openWallet=!0},addWallet(){this.title?(this.showLoader(),this.makeRequest("POST",this.endpoints.AddCategory,{},{name:this.title}).then(l=>{this.openWallet=!1,this.sweetAlert().success("Category added successfully"),this.makeRequest("GET",`${this.endpoints.GetCategory}`,this.tableData).then(t=>{this.history=t.data.data,this.links=t.data.meta}).catch(t=>{}).finally(()=>{})}).catch(l=>{l.response.data.data?this.sweetAlert().error(l.response.data.data.name[0]):this.sweetAlert().error(l.response.data.message)}).finally(()=>{this.hideLoader()})):this.walletsErrors.title="Kindly enter name"},getHistory(l=1){this.showLoader(),this.makeRequest("GET",`${this.endpoints.GetCategory}?page=${l}`,this.tableData).then(t=>{this.history=t.data.data,this.links=t.data.meta}).catch(t=>{}).finally(()=>{this.hideLoader()})}},computed:{}};const V={class:"button-container"},S=o("option",null,"5",-1),H=o("option",null,"10",-1),N=o("option",null,"20",-1),R=o("option",null,"30",-1),G=o("option",null,"50",-1),q=o("option",null,"100",-1),O=o("option",{value:"1000"},"All",-1),Q=[S,H,N,R,G,q,O];function U(l,t,I,K,e,i){const u=s("Button"),m=s("TextField"),p=s("Modal"),_=s("RouterLink"),y=s("DropDown"),g=s("Table"),f=s("Pagination");return d(),c("div",null,[o("div",V,[a(u,{text:"Add Category",color:"primary",icon:"mdi mdi-bank",onButtonClicked:t[0]||(t[0]=n=>i.createWallet())})]),a(p,{id:"addWallet",title:"Add Wallet",open:e.openWallet,onClosed:t[2]||(t[2]=n=>e.openWallet=!1)},{buttons:r(()=>[a(u,{icon:"mdi-book",text:"Add Category",color:"primary",onButtonClicked:i.addWallet},null,8,["onButtonClicked"])]),default:r(()=>[a(m,{modelValue:e.title,"onUpdate:modelValue":t[1]||(t[1]=n=>e.title=n),label:"Category Name",error:e.walletsErrors.title},null,8,["modelValue","error"])]),_:1},8,["open"]),a(g,{title:"Wallet History",headers:e.headers},{length:r(()=>[B(o("select",{class:"form-control length","onUpdate:modelValue":t[3]||(t[3]=n=>e.tableData.length=n),onChange:t[4]||(t[4]=n=>i.getHistory())},Q,544),[[E,e.tableData.length]])]),default:r(()=>[(d(!0),c(F,null,L(e.history,n=>(d(),c("tr",{key:n.id},[o("td",null,h(n.name),1),o("td",null,h(l.formatDate(n.created_at)),1),o("td",null,[a(y,null,{default:r(()=>[a(_,{to:{name:"addQuestions",params:{categoryId:n.id}},class:"dropdown-item"},{default:r(()=>[M("Add Questions")]),_:2},1032,["to"])]),_:2},1024)])]))),128))]),_:1},8,["headers"]),a(f,{links:e.links.links,from:e.links.from,to:e.links.to,total:e.links.total,onPageClicked:i.getHistory},null,8,["links","from","to","total","onPageClicked"])])}const J=x(P,[["render",U]]);export{J as default};
